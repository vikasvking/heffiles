;/*FB_PKG_DELIM*/

__d("WAWebGroupInviteRevokeModal.react",["fbt","WAWebConfirmPopup.react","WAWebModalManager","WAWebUISpacing","react","stylex"],(function(a,b,c,d,e,f,g,h){var i,j,k=i||c("react"),l={confirmationText:{display:"x1lliihq",fontSize:"x6prxxf",lineHeight:"x1fc57z9",color:"xzwifym",$$css:!0}};function a(a){var b=a.onConfirm;a=a.chat;var e=function(){d("WAWebModalManager").ModalManager.close()},f=function(){b(),d("WAWebModalManager").ModalManager.close()};return k.jsx(d("WAWebConfirmPopup.react").ConfirmPopup,{title:h._(/*BTDS*/"__JHASH__xwPr7MwJ9LO__JHASH__"),onOK:f,okText:h._(/*BTDS*/"__JHASH__xwPr7MwJ9LO__JHASH__"),onCancel:e,cancelText:h._(/*BTDS*/"__JHASH__JomY4EcHzcJ__JHASH__"),children:k.jsx("div",{className:(j||(j=c("stylex")))(l.confirmationText,d("WAWebUISpacing").uiPadding.top4,d("WAWebUISpacing").uiPadding.bottom5,d("WAWebUISpacing").uiPadding.horiz0),children:h._(/*BTDS*/"__JHASH__tAVaWTdQvtM__JHASH__",[h._param("community",a.contact.name)])})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebRevokeIcon.react",["WAWebSvgComponentBase","react","stylex"],(function(a,b,c,d,e,f,g){var h,i,j=h||c("react"),k="revoke";function a(a){var b=a.iconXstyle,e=a.height,f=a.width,g=a.viewBox;a=babelHelpers.objectWithoutPropertiesLoose(a,["iconXstyle","height","width","viewBox"]);var h;if(g){var l=g.x;l=l===void 0?0:l;var m=g.y;m=m===void 0?0:m;var n=g.width;n=n===void 0?0:n;g=g.height;g=g===void 0?0:g;h=[l,m,n,g].join(" ")}l=24;m=24;(e!=null||f!=null)&&(l=e,m=f);return j.jsx(d("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers["extends"]({name:k},a,{children:j.jsxs("svg",{viewBox:(n=h)!=null?n:"0 0 24 24",height:l,width:m,preserveAspectRatio:"xMidYMid meet",className:(i||(i=c("stylex")))(b),version:"1.1",x:"0px",y:"0px",enableBackground:"new 0 0 24 24",children:[j.jsx("title",{children:k}),j.jsx("path",{fill:"currentColor",enableBackground:"new    ",d:"M7.7,11.1v1.8h8.7v-1.8H7.7z M12,3.3c-4.7,0-8.7,3.8-8.7,8.7 s3.8,8.7,8.7,8.7s8.7-3.9,8.7-8.7S16.7,3.3,12,3.3z M12,18.9c-3.9,0-6.9-3.1-6.9-6.9s3-6.9,6.9-6.9s6.9,3.1,6.9,6.9 S15.9,18.9,12,18.9z"})]})}))}a.displayName=a.name+" [from "+f.id+"]";g.RevokeIcon=a}),98);
__d("WAWebGroupInviteLinkDrawer.react",["fbt","WAAbortError","WAFilteredCatch","WALogger","WAPromiseDelays","WAPromiseRaceAbort","WAWebABProps","WAWebBackendErrors","WAWebCellFrame.react","WAWebCommunityGatingUtils","WAWebCommunityRestrictedGroupActionModal.react","WAWebCopyLinkButton.react","WAWebCopyPasteSelectable.react","WAWebDetailImage.react","WAWebDrawer.react","WAWebDrawerBody.react","WAWebDrawerButton.react","WAWebDrawerHeader.react","WAWebEmojiText.react","WAWebEmptyState.react","WAWebFlex.react","WAWebFlexItem.react","WAWebFocusTracer","WAWebGroupInviteAction","WAWebGroupInviteRevokeModal.react","WAWebGroupInviteUtils.react","WAWebGroupQueryJob","WAWebGroupType","WAWebMiscErrors","WAWebModalManager","WAWebNoop","WAWebPendingParticipantsIcon.react","WAWebRevokeIcon.react","WAWebSendGroupInviteFlowLoadable","WAWebSendLinkButton.react","WAWebText_DONOTUSE.react","WAWebToast.react","WAWebToastManager","WAWebUISpacing","WAWebUnstyledButton.react","react","useWAWebFocusOnMount","useWAWebListener","useWAWebModelValues","useWAWebUnmountSignal"],(function(a,b,c,d,e,f,g,h){var i,j;function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["GroupInviteLinkDrawer: expected admin"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["GroupInviteLinkDrawer: expected group of type community, found: ",""]);l=function(){return a};return a}b=j||d("react");var m=i||(i=c("react")),n=b.useEffect,o=b.useState,p={groupInfo:{backgroundColor:"x15g3fpr",borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",$$css:!0},groupInfoAvatar:{minWidth:"x900493",$$css:!0},groupInfoName:{fontSize:"x1jchvi3",lineHeight:"x1xet1wb",color:"xzwifym",$$css:!0},groupInfoLink:{maxWidth:"x193iq5w",$$css:!0},link:{color:"x1eqckd8",lineHeight:"x37zpob",$$css:!0},descText:{fontSize:"x1f6kntn",lineHeight:"x37zpob",$$css:!0},icon:{color:"xt16idv",$$css:!0},iconContainer:{minWidth:"xnei2rj",$$css:!0},linkButton:{color:"x1n68mz9",$$css:!0}},q="group-invite-link-anchor",r={LOADING:0,REVOKING:1,SUCCESS:2};e=m.forwardRef(a);function a(a,b){a=babelHelpers["extends"]({},a);var e=a.onBack,f=a.chat,g=a.isCommunity;g=g===void 0?!1:g;var i=a.onGroupSettings,j=o(r.LOADING),s=j[0],t=j[1],u=c("useWAWebUnmountSignal")(),v=c("useWAWebFocusOnMount")();d("useWAWebListener").useListener(d("WAWebModalManager").ModalManager,["close_modal"],function(){return c("WAWebFocusTracer").focus(v.current)});var w=d("useWAWebModelValues").useModelValues(a.groupMetadata,["inviteCode","groupInviteLink","groupType","membershipApprovalMode","participants"]);g&&w.groupType!==d("WAWebGroupType").GroupType.COMMUNITY&&d("WALogger").ERROR(l(),w.groupType).sendLogs("group-invite-link-drawer-invalid-group-type");var x=function(a){switch(a){case 401:return h._(/*BTDS*/"__JHASH__8Cc9cKzyeuu__JHASH__");case 403:return h._(/*BTDS*/"__JHASH__sZeZ5wbgW23__JHASH__");case 404:return h._(/*BTDS*/"__JHASH__lSUPMAXKsae__JHASH__");case 416:return h._(/*BTDS*/"__JHASH__JKwzz-2pL4z__JHASH__");case 436:return h._(/*BTDS*/"__JHASH__GRJIQssw7fy__JHASH__");default:return h._(/*BTDS*/"__JHASH__9Nk5GyWM0mC__JHASH__")}},y=function(a){var b=x(a);e();a===436?(d("WAWebGroupQueryJob").queryAndUpdateGroupMetadataById(f.id),d("WAWebGroupInviteUtils.react").openGrowthLockedModal(!0)):a===416&&d("WAWebCommunityGatingUtils").isCommunitySuspendAppealEnabled()&&d("WAWebModalManager").ModalManager.open(m.jsx(d("WAWebCommunityRestrictedGroupActionModal.react").CommunityRestrictedGroupActionModal,{chat:f}));d("WAWebToastManager").ToastManager.open(m.jsx(d("WAWebToast.react").Toast,{msg:b}))};n(function(){if(!w.participants.iAmAdmin()){d("WALogger").LOG(k()).sendLogs("group-invite-link-drawer-user-not-admin");var a=401;y(a,f);return}c("WAPromiseRaceAbort")(d("WAWebGroupInviteAction").queryGroupInviteCode(w),u).then(function(){t(r.SUCCESS)})["catch"](d("WAFilteredCatch").filteredCatch(d("WAWebBackendErrors").ServerStatusCodeError,function(a){y(a.statusCode,f)}))["catch"](d("WAAbortError").catchAbort(c("WAWebNoop")))},[]);var z=function(a){a=x(a);e();d("WAWebToastManager").ToastManager.open(m.jsx(d("WAWebToast.react").Toast,{msg:a}))},A=function(){t(r.REVOKING);var a=d("WAWebGroupInviteAction").revokeGroupInvite(w);d("WAPromiseDelays").delayMs(500).then(function(){return a}).then(function(){d("WAWebToastManager").ToastManager.open(m.jsx(d("WAWebToast.react").Toast,{msg:h._(/*BTDS*/"__JHASH__1tyjfal6acv__JHASH__")})),t(r.SUCCESS)})["catch"](d("WAFilteredCatch").filteredCatch(d("WAWebBackendErrors").ServerStatusCodeError,function(a){z(a.statusCode)}))["catch"](d("WAFilteredCatch").filteredCatch(d("WAWebMiscErrors").Unmount,c("WAWebNoop")))};j=function(){d("WAWebModalManager").ModalManager.open(m.jsx(c("WAWebGroupInviteRevokeModal.react"),{chat:f,onConfirm:A}),{transition:"modal-flow"})};g=function(){d("WAWebModalManager").ModalManager.open(m.jsx(d("WAWebSendGroupInviteFlowLoadable").SendGroupInviteFlowLoadable,{chat:f}),{transition:"modal-flow"})};var B=w.groupType===d("WAWebGroupType").GroupType.COMMUNITY?h._(/*BTDS*/"__JHASH__bohlJxHOCnu__JHASH__"):h._(/*BTDS*/"__JHASH__uiYYYxMi4Uu__JHASH__"),C;if(s===r.LOADING)C=m.jsx(d("WAWebEmptyState.react").LoadingWithText,{text:h._(/*BTDS*/"__JHASH__2I-O6g8WUCn__JHASH__")});else if(s===r.REVOKING)C=m.jsx(d("WAWebEmptyState.react").LoadingWithText,{text:h._(/*BTDS*/"__JHASH__CvYD24HVJ88__JHASH__",[h._param("groupName",f.contact.name)])});else{s=w.groupInviteLink;var D=null;document.queryCommandSupported("copy")&&(D=m.jsx(c("WAWebCopyLinkButton.react"),{elementId:q,divider:!d("WAWebABProps").getABPropConfigValue("group_join_request_m3")}));var E=w.groupType===d("WAWebGroupType").GroupType.COMMUNITY||w.groupType===d("WAWebGroupType").GroupType.LINKED_ANNOUNCEMENT_GROUP,F=m.jsx(d("WAWebDetailImage.react").DetailImage,{id:f.id,size:d("WAWebABProps").getABPropConfigValue("group_join_request_m3")?48:82,quality:d("WAWebDetailImage.react").DetailImageQuality.High,shape:E?d("WAWebDetailImage.react").DetailImageShape.Squircle:d("WAWebDetailImage.react").DetailImageShape.Circle});s=m.jsx("span",{className:"x1vvkbs xeaf4i8",children:m.jsx(d("WAWebCopyPasteSelectable.react").SelectableLink,{id:q,href:s,selectable:!0,children:m.jsx(d("WAWebText_DONOTUSE.react").TextSpan,{xstyle:!d("WAWebABProps").getABPropConfigValue("group_join_request_m3")&&p.link,size:d("WAWebABProps").getABPropConfigValue("group_join_request_m3")?"13":"15",color:d("WAWebABProps").getABPropConfigValue("group_join_request_m3")?"link":void 0,children:s})})});if(d("WAWebABProps").getABPropConfigValue("group_join_request_m3")){var G,H;H=m.jsxs(d("WAWebFlex.react").FlexRow,{xstyle:[p.groupInfo,(H=d("WAWebUISpacing")).uiMargin.top16,H.uiMargin.horiz16,H.uiPadding.vert12,H.uiPadding.horiz8],align:"center",children:[m.jsx(G=c("WAWebFlexItem.react"),{xstyle:[p.groupInfoAvatar,H.uiPadding.horiz8],children:F}),m.jsx(G,{xstyle:H.uiPadding.horiz8,children:m.jsxs(d("WAWebFlex.react").FlexColumn,{justify:"start",children:[m.jsx(G,{children:m.jsx(d("WAWebEmojiText.react").EmojiText,{text:f.contact.name,direction:"auto",xstyle:p.groupInfoName})}),m.jsx(G,{xstyle:p.groupInfoLink,children:s})]})})]})}else H=m.jsx(c("WAWebCellFrame.react"),{image:F,primary:m.jsx(d("WAWebEmojiText.react").EmojiText,{text:f.contact.name,direction:"auto"}),theme:"identity",secondary:s});var I;E?G=m.jsx("div",{className:"xjv05ge xqmxbcd xieb3on x8vdgqj x1f6kntn x37zpob",children:h._(/*BTDS*/"__JHASH__iG4pEnc5PG1__JHASH__")}):d("WAWebABProps").getABPropConfigValue("group_join_request_m3")?(G=m.jsxs(d("WAWebFlex.react").FlexRow,{align:"center",xstyle:d("WAWebUISpacing").uiPadding.vert16,children:[m.jsx(c("WAWebFlexItem.react"),{xstyle:[p.iconContainer,d("WAWebUISpacing").uiPadding.horiz25],children:m.jsx(d("WAWebPendingParticipantsIcon.react").PendingParticipantsIcon,{xstyle:p.icon})}),m.jsx(c("WAWebFlexItem.react"),{xstyle:d("WAWebUISpacing").uiPadding.end24,children:m.jsx(d("WAWebText_DONOTUSE.react").TextSpan,{color:"dark",xstyle:p.descText,children:w.membershipApprovalMode?h._(/*BTDS*/"__JHASH__WdF7KWmPw0t__JHASH__",[h._implicitParam("=m2",m.jsx(c("WAWebUnstyledButton.react"),{onClick:i,xstyle:p.linkButton,children:h._(/*BTDS*/"__JHASH__HLnQehpmtSF__JHASH__")}))]):h._(/*BTDS*/"__JHASH__Y6_X1u83fuK__JHASH__",[h._implicitParam("=m2",m.jsx(c("WAWebUnstyledButton.react"),{onClick:i,xstyle:p.linkButton,children:h._(/*BTDS*/"__JHASH__8Izdwh7rOor__JHASH__")}))])})})]}),I=m.jsx(d("WAWebFlex.react").FlexRow,{xstyle:[d("WAWebUISpacing").uiMargin.vert4,d("WAWebUISpacing").uiMargin.horiz24],children:m.jsx("div",{className:"xh8yej3 xjm9jq1 xxnau4b"})})):G=m.jsx("div",{className:"xjv05ge xqmxbcd xieb3on x8vdgqj x1f6kntn x37zpob",children:h._(/*BTDS*/"__JHASH__czoO0DYVxve__JHASH__")});C=m.jsxs(c("WAWebDrawerBody.react"),{children:[H,G,I,m.jsx(c("WAWebSendLinkButton.react"),{onClick:g,divider:!d("WAWebABProps").getABPropConfigValue("group_join_request_m3")}),D,m.jsx(d("WAWebDrawerButton.react").DrawerButtonSimple,{testid:void 0,icon:m.jsx(d("WAWebRevokeIcon.react").RevokeIcon,{xstyle:p.icon}),onClick:j,divider:!d("WAWebABProps").getABPropConfigValue("group_join_request_m3"),children:h._(/*BTDS*/"__JHASH__xwPr7MwJ9LO__JHASH__")})]})}return m.jsxs(c("WAWebDrawer.react"),{ref:b,theme:d("WAWebABProps").getABPropConfigValue("group_join_request_m3")?"invite":void 0,testid:void 0,children:[m.jsx(d("WAWebDrawerHeader.react").DrawerHeader,{title:B,onBack:a.onBack,rtlFixIfOnDarwin:!0,type:d("WAWebDrawerHeader.react").DRAWER_HEADER_TYPE.SMALL}),m.jsx("div",{ref:v,tabIndex:"-1",children:C})]})}a.displayName=a.name+" [from "+f.id+"]";b=e;g["default"]=b}),226);