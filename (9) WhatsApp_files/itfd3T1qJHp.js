;/*FB_PKG_DELIM*/

__d("DOMRectReadOnly",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.bottom=0,this.height=0,this.left=0,this.right=0,this.top=0,this.width=0,this.x=0,this.y=0}a.fromRect=function(b){b=b||{height:0,width:0,x:0,y:0};var c=b.height,d=b.width,e=b.x;b=b.y;var f=new a();f.x=e;f.y=b;f.width=d;f.height=c;f.top=b;f.bottom=b+c;f.right=e+d;f.left=e;return f};return a}();b="DOMRectReadOnly"in window;c=b?window.DOMRectReadOnly.fromRect:void 0;d=!!c&&"function"===typeof c;e=d?window.DOMRectReadOnly:a;f["default"]=e}),66);
__d("WAWebCopyLinkButton.react",["fbt","WAWebCopyIcon.react","WAWebCopyRefreshedIcon.react","WAWebCopyToClipboard","WAWebDrawerButton.react","WAWebToast.react","WAWebToastManager","WAWebUIRefreshGatingUtils","react"],(function(a,b,c,d,e,f,g,h){var i,j=i||c("react"),k={icon:{color:"xw63xux",$$css:!0}};function l(a,b){a=document.getElementById(a);a&&d("WAWebCopyToClipboard").copyElementContentsToClipboard(a)?d("WAWebToastManager").ToastManager.open(j.jsx(d("WAWebToast.react").Toast,{msg:h._(/*BTDS*/"__JHASH__84GNAOxxNnu__JHASH__")})):d("WAWebToastManager").ToastManager.open(j.jsx(d("WAWebToast.react").Toast,{msg:h._(/*BTDS*/"__JHASH__b8i57yvPeuv__JHASH__")}));b!=null&&b()}function a(a){var b=a.divider,c=a.elementId,e=a.onClick;if(!document.queryCommandSupported("copy"))return null;a=d("WAWebUIRefreshGatingUtils").uiRefreshM1Enabled()?d("WAWebCopyRefreshedIcon.react").CopyRefreshedIcon:d("WAWebCopyIcon.react").CopyIcon;return j.jsx(d("WAWebDrawerButton.react").DrawerButtonSimple,{testid:void 0,icon:j.jsx(a,{xstyle:k.icon}),onClick:function(){return l(c,e)},divider:b,children:h._(/*BTDS*/"__JHASH__CIn59molrrN__JHASH__")})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebLabelsInfoDrawerLabelWell.react",["WAWebBizGatingUtils","WAWebLabels.react","WAWebListsGatingUtils","WAWebUISpacing","react","stylex"],(function(a,b,c,d,e,f,g){var h,i,j=h||c("react"),k={labelRow:{display:"x1rg5ohu",fontSize:"x1f6kntn",$$css:!0},standaloneLabelRow:{fontSize:"x1pg5gke",lineHeight:"x4ei82o",$$css:!0},standaloneLabelRowIcon:{width:"xgd8bvy",height:"x17rw0jw",$$css:!0},labelContainer:{flexWrap:"x1a02dak",$$css:!0}};function l(a){var b=a.isStandalone;a=a.labelId;return j.jsx("div",{className:(i||(i=c("stylex")))(k.labelRow,d("WAWebUISpacing").uiPadding.top5,d("WAWebUISpacing").uiPadding.end5,d("WAWebUISpacing").uiPadding.bottom5,d("WAWebUISpacing").uiPadding.start0,d("WAWebUISpacing").uiMargin.end10,b&&k.standaloneLabelRow,b&&d("WAWebUISpacing").uiPadding.top8,b&&d("WAWebUISpacing").uiPadding.end14,b&&d("WAWebUISpacing").uiPadding.bottom8,b&&d("WAWebUISpacing").uiPadding.start0),children:j.jsx(d("WAWebLabels.react").Labels,{theme:"user-profile",labels:[a],showName:!0,iconXstyle:[k.standaloneLabelRowIcon,d("WAWebUISpacing").uiPadding.top1]})})}l.displayName=l.name+" [from "+f.id+"]";function a(a){var b=a.labels;a=a.theme;if(!b||!(d("WAWebBizGatingUtils").canDisplayLabel()||d("WAWebListsGatingUtils").isListsEnabled()))return null;var e=a==="standalone";return j.jsx("div",{className:(i||(i=c("stylex")))(k.labelContainer,d("WAWebUISpacing").uiMargin.top3,e&&d("WAWebUISpacing").uiMargin.top0),children:b.map(function(a,b){return j.jsx(l,{labelId:a,isStandalone:e},b)})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebNameGroupModal.react",["fbt","WANullthrows","WAWebButton.react","WAWebModal.react","WAWebRichTextField.react","WAWebServerPropsModel","WAWebWDSButton","asyncToGeneratorRuntime","react","useWAWebModelValues"],(function(a,b,c,d,e,f,g,h){var i,j,k=j||c("react"),l=(i||(i=d("react"))).useState;function a(a){var e=a.chat,f=a.editable,g=a.editRestrictionInfo,i=a.onCancel,j=a.onOK;a=a.subtext;var m=d("useWAWebModelValues").useModelValues(c("WANullthrows")(e.groupMetadata),["subject"]);m=l(m.subject);var n=m[0],o=m[1];m=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a.stopPropagation();a.preventDefault();try{yield j(n,e)}finally{o("")}});return function(b){return a.apply(this,arguments)}}();var p=function(a){a.stopPropagation(),a.preventDefault(),i==null?void 0:i()},q=function(a){return!!(a!=null&&a.trim())},r=function(a){a=a.text;o(a)},s=n.trim().length>0;m=j?k.jsx(c("WAWebButton.react"),{testid:void 0,type:"primary",onClick:m,disabled:!s,children:h._(/*BTDS*/"__JHASH__An1Ld2qkyMl__JHASH__")}):null;s=i?k.jsx(c("WAWebButton.react"),{testid:void 0,type:"secondary",onClick:p,children:h._(/*BTDS*/"__JHASH__JomY4EcHzcJ__JHASH__")}):null;p=k.jsxs(d("WAWebWDSButton").ButtonGroup,{direction:"horizontal",align:"end",children:[s,m]});s=k.jsx(d("WAWebRichTextField.react").RichTextField,{testid:void 0,value:n,maxLength:d("WAWebServerPropsModel").ServerProps.maxSubject,onChange:r,validate:q,emojiBtnPosition:"side",multiline:!0,spellCheck:!0,showRemaining:!0,focusOnMount:!0,theme:"small",textFormatEnabled:!0,editable:f,editRestrictionInfo:g});return k.jsxs(d("WAWebModal.react").Modal,{title:h._(/*BTDS*/"__JHASH__VMrd_chOCfm__JHASH__"),actions:p,children:[a,s]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebProductCatalogDetailDrawerMenu.react",["fbt","WATypeUtils","WAWebBizGatingUtils","WAWebChatRefreshedIcon.react","WAWebCommonCartIconMenuBarItem.react","WAWebDropdown.react","WAWebDropdownItem.react","WAWebDropdownItemSeparator.react","WAWebInfoRefreshedIcon.react","WAWebLinkRefreshedIcon.react","WAWebMenuBar.react","WAWebMenuIcon.react","WAWebMoreRefreshedIcon.react","WAWebProductCatalogLinkIcon.react","WAWebThumbsDownRefreshedIcon.react","WAWebUIRefreshGatingUtils","react"],(function(a,b,c,d,e,f,g,h){var i,j=i||c("react");function a(a){var b=a.contactId,e=a.onSendProduct,f=a.onReportProduct,g=a.onProductLinkClick,i=a.onProductMoreInformation,k=a.onCartClick,l=a.cartCount;a=a.catalogId;l=k&&a!=null?j.jsx(d("WAWebCommonCartIconMenuBarItem.react").CartIconMenuBarItem,{cartCountText:d("WATypeUtils").isNumber(l)&&l>0?l.toString():void 0,onClick:k,catalogOwnerJid:a}):null;k=d("WAWebUIRefreshGatingUtils").uiRefreshM1Enabled();return[l,j.jsx(d("WAWebMenuBar.react").MenuBarItem,{testid:void 0,icon:k?j.jsx(d("WAWebLinkRefreshedIcon.react").LinkRefreshedIcon,{}):j.jsx(c("WAWebProductCatalogLinkIcon.react"),{}),title:h._(/*BTDS*/"__JHASH__M2ITo9YlMVM__JHASH__"),onClick:g},"link"),j.jsx(d("WAWebMenuBar.react").MenuBarItem,{testid:void 0,icon:k?j.jsx(d("WAWebMoreRefreshedIcon.react").MoreRefreshedIcon,{}):j.jsx(d("WAWebMenuIcon.react").MenuIcon,{}),title:h._(/*BTDS*/"__JHASH__hskmX_lsgx4__JHASH__"),dropdownMenu:{menu:j.jsxs(j.Fragment,{children:[j.jsx(d("WAWebDropdownItem.react").DropdownItem,{testid:void 0,action:e,icon:k?j.jsx(d("WAWebChatRefreshedIcon.react").ChatRefreshedIcon,{}):null,children:h._(/*BTDS*/"__JHASH__4JUQUKkFsuw__JHASH__")}),d("WAWebBizGatingUtils").canSeeECommerceComplianceIndiaSoftEnforcement(b)&&j.jsx(d("WAWebDropdownItem.react").DropdownItem,{testid:void 0,action:i,icon:k?j.jsx(d("WAWebInfoRefreshedIcon.react").InfoRefreshedIcon,{}):null,children:h._(/*BTDS*/"__JHASH__7krv-luSRnY__JHASH__")}),k?j.jsx(d("WAWebDropdownItemSeparator.react").DropdownItemSeparator,{}):null,j.jsx(d("WAWebDropdownItem.react").DropdownItem,{testid:void 0,action:f,icon:k?j.jsx(d("WAWebThumbsDownRefreshedIcon.react").ThumbsDownRefreshedIcon,{}):null,children:h._(/*BTDS*/"__JHASH__1pJzxB9fPnW__JHASH__")})]}),type:d("WAWebDropdown.react").MenuType.DropdownMenu,dirX:d("WAWebDropdown.react").DirX.LEFT,flipOnRTL:!0}},"dropdown")]}g.getDetailDrawerMenu=a}),226);
__d("WAWebProductCatalogList.react",["WAWebDrawerContext","WAWebDrawerManager","WAWebFlatList.react","WAWebFlatListContainer.react","WAWebListKeyPool","WAWebManageActions","WAWebProductCatalogCatalogConstants","WAWebProductCatalogContext","WAWebProductCatalogListItem.react","WAWebProductCatalogLogEvents","WAWebStateUtils","react","useWAWebModelValues"],(function(a,b,c,d,e,f,g){var h,i,j=i||c("react"),k=(h||(h=d("react"))).useState,l=d("WAWebFlatList.react").FlatListFactory();function a(a){var b=a.onProductDetail,e=a.onProductShare,f=a.onCartOpen,g=a.shareLinks,h=a.canManageCatalog,i=k(void 0),m=i[0],n=i[1],o=d("useWAWebModelValues").useModelValues(a.catalog,["productCollection","afterCursor","id","index"]),p=function(a,c){d("WAWebProductCatalogLogEvents").logCatalogListDetailClick({product:d("WAWebStateUtils").unproxy(a),catalogContext:c});n(a.id.toString());return b(a)},q=function(a){e&&e(a)},r=function(a,b){d("WAWebManageActions").handleProductDelete(o,a,b,"Catalog").then(function(b){a.id===m&&(d("WAWebDrawerManager").DrawerManager.closeDrawerMid(),n(void 0))})},s=function(a,b){d("WAWebManageActions").handleProductVisibilityChange(o,a,b,"Catalog")};i=function(){var a=f!==void 0,b=o.productCollection.getProductModels(h);return b.map(function(b){return{itemKey:b.id.toString()+"_"+a.toString(),product:b}})};return!o.productCollection||!o.productCollection.getProductModels(a.canManageCatalog).length?null:j.jsx(c("WAWebFlatListContainer.react"),{flatListControllers:[a.flatListController],children:j.jsx(l,{flatListController:a.flatListController,direction:"vertical",forceConsistentRenderCount:!1,data:i(),renderItem:function(a){var b=a.product;return j.jsx(d("WAWebDrawerContext").DrawerContext.Consumer,{children:function(a){var e=d("WAWebProductCatalogContext").getProductCatalogContext(a);return j.jsx(c("WAWebProductCatalogListItem.react"),{product:b,onCartOpen:f,onClick:function(){return p(b,e)},onProductShare:g?q:null,onProductDelete:function(a){return r(a,e)},onProductHideShow:function(a){return s(a,e)},canManageCatalog:h})}})},defaultItemHeight:d("WAWebProductCatalogCatalogConstants").PRODUCT_LIST_ITEM_HEIGHT,keyOrder:d("WAWebListKeyPool").KeyOrder.INVERSE})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebProductCatalogProductPostcodeChangeBanner",["fbt","WALogger","WAWebBusinessDirectConnectionCollection","WAWebClickableLink.react","WAWebModalManager","WAWebProductCollectionCatalogPostcodeChangeModal","asyncToGeneratorRuntime","react","useBoolean","useWAWebModelValues","useWAWebUnmountSignal"],(function(a,b,c,d,e,f,g,h){var i,j;function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["[direct-connection] Setting cypher failed in PDP ",""]);k=function(){return a};return a}e=j||d("react");var l=i||(i=c("react")),m=e.useEffect,n=e.useState;function o(a){var b=a.postcode,e=a.catalogWid,f=a.postcodeChangeSuccess;a=function(){d("WAWebModalManager").ModalManager.open(l.jsx(c("WAWebProductCollectionCatalogPostcodeChangeModal"),{existingPostcode:b,catalogId:e,onCancel:function(){return d("WAWebModalManager").ModalManager.close()},onSuccess:function(){d("WAWebModalManager").ModalManager.close(),f()}}))};return l.jsx(c("WAWebClickableLink.react"),{onClick:a,children:h._(/*BTDS*/"__JHASH__vqD67G-VRqS__JHASH__")})}o.displayName=o.name+" [from "+f.id+"]";function p(a){var b=a.businessDirectConnection,c=a.catalogWid;a=a.postcodeChangeSuccess;b=d("useWAWebModelValues").useModelValues(b,["postcode"]);b=b.postcode;return b==null?null:l.jsxs(l.Fragment,{children:[h._(/*BTDS*/"__JHASH__fNj-BENK6jW__JHASH__",[h._param("area-postcode",b)]),"\xa0",l.jsx(o,{postcode:b,catalogWid:c,postcodeChangeSuccess:a})]})}p.displayName=p.name+" [from "+f.id+"]";function a(a){var e=a.catalogWid;a=a.postcodeChangeSuccess;var f=n(null),g=f[0],h=f[1];f=c("useBoolean")(!0);var i=f.value,j=f.set,o=c("useWAWebUnmountSignal")();m(function(){var a=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){try{var a=(yield c("WAWebBusinessDirectConnectionCollection").getCypher(e));if(o.aborted)return;h(a)}catch(a){d("WALogger").ERROR(k(),a).verbose().devConsole(a).sendLogs("direct-connection-setting-cypher-failed-in-pdp")}if(o.aborted)return;j(!1)});return function(){return a.apply(this,arguments)}}();void a()},[e,j,o]);return i||g==null?null:l.jsx(p,{businessDirectConnection:g,catalogWid:e,postcodeChangeSuccess:a})}a.displayName=a.name+" [from "+f.id+"]";g.ProductPostcodeChangeBanner=a}),226);
__d("WAWebProductCatalogReportProductChoicePopup.react",["fbt","WAWebButton.react","WAWebKeyboardHotKeys.react","WAWebModal.react","WAWebUISpacing","react","stylex"],(function(a,b,c,d,e,f,g,h){var i,j,k=i||c("react");b=k.forwardRef(a);function a(a,b){a=babelHelpers["extends"]({},a);var e=a.onPopupCancel,f=a.onReport;a=h._(/*BTDS*/"__JHASH__-jvuTbG32IM__JHASH__");var g=k.jsx("div",{children:h._(/*BTDS*/"__JHASH__6iBRKeTh3rS__JHASH__")},"ReportProductChoicePopup-desc"),i=k.jsx(c("WAWebButton.react"),{testid:void 0,type:"secondary",onClick:function(){return f()},children:h._(/*BTDS*/"__JHASH__EB9B96HoOOR__JHASH__")},"ReportProductChoicePopup-reportBtn"),l=k.jsx(c("WAWebButton.react"),{type:"secondary",onClick:e,children:h._(/*BTDS*/"__JHASH__JomY4EcHzcJ__JHASH__")},0);e={escape:e};i=k.jsxs("div",{className:"x78zum5 xdt5ytf",children:[k.jsx("div",{className:(j||(j=c("stylex")))(d("WAWebUISpacing").uiMargin.top4),children:i}),k.jsx("div",{className:j(d("WAWebUISpacing").uiMargin.top4),children:l})]});return k.jsx(d("WAWebKeyboardHotKeys.react").HotKeys,{ref:b,handlers:e,children:k.jsx(d("WAWebModal.react").Modal,{title:a,actions:i,children:g})})}a.displayName=a.name+" [from "+f.id+"]";e=b;g["default"]=e}),226);
__d("WAWebProductCatalogReportProductReasonPopup.react",["fbt","WAWebButton.react","WAWebKeyboardHotKeys.react","WAWebModal.react","WAWebRadio.react","WAWebToast.react","WAWebToastManager","react"],(function(a,b,c,d,e,f,g,h){var i,j,k=j||c("react"),l=(i||(i=d("react"))).useState;b={ILLEGAL:"ILLEGAL",KNOCKOFF:"KNOCKOFF",NO_MATCH:"NO_MATCH",OTHER:"OTHER",SCAM:"SCAM",SPAM:"SPAM"};var m=[b.NO_MATCH,b.SPAM,b.ILLEGAL,b.SCAM,b.KNOCKOFF,b.OTHER];e=k.forwardRef(a);function a(a,b){a=babelHelpers["extends"]({},a);var e=a.onCancel,f=a.onTellUsMoreSubmit;a=l(null);var g=a[0],i=a[1];a=function(){e==null?void 0:e()};var j=function(a){i(a)},o=function(){d("WAWebToastManager").ToastManager.open(k.jsx(d("WAWebToast.react").Toast,{msg:h._(/*BTDS*/"__JHASH__Uh5jodh2IjQ__JHASH__")}))},p=function(){if(g==null||!m.includes(g))return o();f(g)},q=h._(/*BTDS*/"__JHASH__nI8gDIX75I4__JHASH__"),r=k.jsx("div",{className:"x78zum5",children:k.jsx("ul",{className:"x1n2onr6 x98rzlu",children:m.map(function(a){return k.jsx("li",{children:k.jsx(d("WAWebRadio.react").RadioWithLabel,{name:a,value:a,label:k.jsx(n,{reason:a}),checked:g===a,onChange:function(){return j(a)}})},"ReportProductReasonPopup-"+a+"-option")})})});p=k.jsx(c("WAWebButton.react"),{testid:void 0,type:"primary",onClick:p,disabled:!g,children:h._(/*BTDS*/"__JHASH__onXvWlek8By__JHASH__")},"ReportProductReasonPopup-submitButton");var s=k.jsx(c("WAWebButton.react"),{type:"secondary",testid:void 0,onClick:a,children:h._(/*BTDS*/"__JHASH__JomY4EcHzcJ__JHASH__")},"ReportProductReasonPopup-cancelButton");a={escape:a};s=k.jsxs("div",{className:"x78zum5 xfex06f",children:[s,p]});return k.jsx(d("WAWebKeyboardHotKeys.react").HotKeys,{ref:b,handlers:a,children:k.jsx(d("WAWebModal.react").Modal,{title:q,actions:s,children:r})})}a.displayName=a.name+" [from "+f.id+"]";b=e;function n(a){a=a.reason;switch(a){case"NO_MATCH":return h._(/*BTDS*/"__JHASH__jcP76WospGS__JHASH__");case"SPAM":return h._(/*BTDS*/"__JHASH__oXZbxcGEFDD__JHASH__");case"ILLEGAL":return h._(/*BTDS*/"__JHASH__mmLpRqSUIKY__JHASH__");case"SCAM":return h._(/*BTDS*/"__JHASH__cYgYibah280__JHASH__");case"KNOCKOFF":return h._(/*BTDS*/"__JHASH__A7Tlx9AsYUX__JHASH__");case"OTHER":return h._(/*BTDS*/"__JHASH__n_Ecg5JOTXz__JHASH__")}}n.displayName=n.name+" [from "+f.id+"]";g["default"]=b}),226);
__d("WAWebProductCatalogReportProductFlow",["fbt","$InternalEnum","WALogger","WAQplTypes","WAWebActionToast.react","WAWebBizProductCatalogAction","WAWebProductCatalogLogEvents","WAWebProductCatalogReportProductChoicePopup.react","WAWebProductCatalogReportProductReasonPopup.react","WAWebQplQuickPerformanceLoggerMarkerIds","WAWebQplQuickPerformanceLoggerModule","WAWebStateUtils","WAWebToastManager","react","useWAWebFlow"],(function(a,b,c,d,e,f,g,h){var i;function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["error submitting product report"]);j=function(){return a};return a}var k=i||c("react"),l=b("$InternalEnum").Mirrored(["ReportProductChoice","TellUsMore"]);function a(a){var b=d("useWAWebFlow").useFlow(l.ReportProductChoice),e=b[0],f=b[1];if(f.step==null)return null;var g=function(b){var c=a.product;return d("WAWebBizProductCatalogAction").reportProduct(c.catalogWid,c.id.toString(),b)},i=function(){f.end()},m=function b(c,e){e===void 0&&(e=d("WAWebActionToast.react").genId());var f=a.product,l=a.sessionId,m=g(c),n=new(d("WAWebActionToast.react").ActionType)(h._(/*BTDS*/"__JHASH__o4MWzIpLo1L__JHASH__")),o=m.then(function(){d("WAWebProductCatalogLogEvents").logReportProductSuccess({product:d("WAWebStateUtils").unproxy(f),catalogSessionId:l,reason:c||""});d("WAWebQplQuickPerformanceLoggerModule").QPL.markerEnd(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.WHATSAPP_PRODUCT_REPORT,d("WAQplTypes").QuickLogActionType.SUCCESS);return new(d("WAWebActionToast.react").ActionType)(h._(/*BTDS*/"__JHASH__c5v1Mgo0g9l__JHASH__").toString()+". "+h._(/*BTDS*/"__JHASH__UHiMqx-aCa1__JHASH__").toString())})["catch"](function(a){d("WAWebProductCatalogLogEvents").logReportProductFailure({product:d("WAWebStateUtils").unproxy(f),catalogSessionId:l,reason:c||""});d("WAWebQplQuickPerformanceLoggerModule").QPL.markerEnd(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.WHATSAPP_PRODUCT_REPORT,d("WAQplTypes").QuickLogActionType.FAIL);d("WALogger").WARN(j()).devConsole(a);return new(d("WAWebActionToast.react").ActionType)(h._(/*BTDS*/"__JHASH__KcmX2OmSPPj__JHASH__"),{actionText:h._(/*BTDS*/"__JHASH__8QtB4QTDtNh__JHASH__"),actionHandler:function(){return b(c,e)}})});d("WAWebToastManager").ToastManager.open(k.jsx(d("WAWebActionToast.react").ActionToast,{id:e,initialAction:n,pendingAction:o}));i();return m};b=function(){f.push(l.TellUsMore)};var n=function(a){d("WAWebQplQuickPerformanceLoggerModule").QPL.markerStart(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.WHATSAPP_PRODUCT_REPORT),void m(a)},o=null;switch(f.step){case l.ReportProductChoice:o=k.jsx(c("WAWebProductCatalogReportProductChoicePopup.react"),{onReport:b,onPopupCancel:i,onCancel:i});break;case l.TellUsMore:o=k.jsx(c("WAWebProductCatalogReportProductReasonPopup.react"),{onTellUsMoreSubmit:n,onCancel:i});break}return k.jsx(e,{flow:f,children:o})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebProductCatalogProductDetailsDrawer.react",["fbt","Promise","WAAbortError","WAFilteredCatch","WALogger","WAQplTypes","WATimeUtils","WAWebBackendErrors","WAWebBizGatingUtils","WAWebBizProductCatalogAction","WAWebBusinessProfileCollection","WAWebBusinessProfileUtils","WAWebCartCollection","WAWebCatalogCollection","WAWebChatThreadLogging","WAWebCmd","WAWebConfirmPopup.react","WAWebDirectConnectionGatingUtils","WAWebDrawer.react","WAWebDrawerBody.react","WAWebDrawerContext","WAWebDrawerHeader.react","WAWebFbtCommon","WAWebModalManager","WAWebNoop","WAWebProductCatalogCatalogDrawerSection.react","WAWebProductCatalogCheckCartEnabled","WAWebProductCatalogContext","WAWebProductCatalogDetailDrawerMenu.react","WAWebProductCatalogLogEvents","WAWebProductCatalogProductDetailsInfo.react","WAWebProductCatalogProductPostcodeChangeBanner","WAWebProductCatalogProductTile.react","WAWebProductCatalogReportProductFlow","WAWebProductCollection","WAWebProductTypes.flow","WAWebSpinner.react","WAWebStateUtils","WAWebUISpacing","WAWebUserPrefsMeUser","WAWebUtilsLogQplEvents","WAWebWDSText.react","react","stylex","useWAWebForceUpdate","useWAWebListener","useWAWebModelValues","useWAWebUnmountSignal"],(function(a,b,c,d,e,f,g,h){var i,j,k,l;function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["Failed to fetch product from server"]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["Failed to fetch product catalog from server"]);n=function(){return a};return a}e=l||d("react");var o=j||(j=c("react")),p=e.useContext,q=e.useEffect,r=e.useMemo,s=e.useState,t={availabilityBanner:{display:"x78zum5",lineHeight:"x1fc57z9",backgroundColor:"x1iek97a",$$css:!0},text:{fontWeight:"xk50ysn",$$css:!0},loadingText:{color:"xxr6tci",$$css:!0},loadingContainer:{position:"x10l6tqk",zIndex:"xa1v5g2",boxSizing:"x9f619",display:"x78zum5",alignItems:"x6s0dn4",justifyContent:"xl56j7k",width:"xh8yej3",background:"xvungr5",boxShadow:"x1499u3w",opacity:"x1hc1fzr",transitionProperty:"xfagghw",transitionDuration:"xofcydl",transitionTimingFunction:"x9lcvmn",$$css:!0},shiftUp:{position:"x10l6tqk",zIndex:"xuvdrym",display:"x78zum5",alignItems:"x6s0dn4",justifyContent:"xl56j7k",width:"xh8yej3",background:"xvungr5",boxShadow:"x1499u3w",transitionProperty:"xfagghw",transitionDuration:"x1wsgiic",transitionTimingFunction:"x9lcvmn",transform:"x1mbp4g0",$$css:!0},body:{flex:"x1okw0bk",$$css:!0}};function u(a){var b=a.isAvailable,e=a.productCatalogFetchState;a=a.productFetchState;var f;a==="ERROR"?f=o.jsx(d("WAWebWDSText.react").WDSTextSmall,{as:"span",xstyle:[t.text,d("WAWebUISpacing").uiMargin.horiz10],color:"critical",children:h._(/*BTDS*/"__JHASH__P9SLuXIUjdB__JHASH__")}):!b?f=o.jsx(d("WAWebWDSText.react").WDSTextSmall,{as:"span",xstyle:[t.text,d("WAWebUISpacing").uiMargin.horiz10],color:"critical",children:h._(/*BTDS*/"__JHASH__M459z--6h5t__JHASH__")}):f=[o.jsx(d("WAWebSpinner.react").Spinner,{size:14,color:"highlight"},"DetailDrawer-loadingBar-spinner"),o.jsx(d("WAWebWDSText.react").WDSTextSmall,{as:"span",xstyle:[t.text,d("WAWebUISpacing").uiMargin.horiz10,t.loadingText],children:h._(/*BTDS*/"__JHASH__dOJAzOdCPwH__JHASH__")},"DetailDrawer-loadingBar-msg")];a=a==="PENDING"||e==="PENDING";e=a||!b;return o.jsx("div",{className:(k||(k=c("stylex")))(e&&t.loadingContainer,!e&&t.shiftUp,e&&d("WAWebUISpacing").uiPadding.all8),children:f})}u.displayName=u.name+" [from "+f.id+"]";function v(a){var b=a.handleBack;a=a.menu;return o.jsx(d("WAWebDrawerHeader.react").DrawerHeader,{title:h._(/*BTDS*/"__JHASH__hg9BRt8_aW-__JHASH__"),onBack:b,type:d("WAWebDrawerHeader.react").DRAWER_HEADER_TYPE.SMALL,menu:a})}v.displayName=v.name+" [from "+f.id+"]";e=o.forwardRef(a);function a(a,e){a=babelHelpers["extends"]({},a);var f=a.collectionId,g=a.onCartClick,j=a.onProductLinkClick,l=a.onProductMoreInformation,w=a.onBack,x=a.onProductCatalog,y=a.onProductDetail,z=a.refreshCarousel,A=a.chat,B=d("useWAWebForceUpdate").useForceUpdateDONOTUSE(),C=c("useWAWebUnmountSignal")(),D=p(d("WAWebDrawerContext").DrawerContext),E=d("useWAWebModelValues").useModelValues(a.product,["id","catalogWid","productImageCollection","fetchedFromServer","name","availability","reviewStatus"]),F=s(null),G=F[0],H=F[1];F=s(!1);var I=F[0],J=F[1];F=s(null);var K=F[0],L=F[1];F=s("NONE");var M=F[0],N=F[1];F=s("NONE");var O=F[0],P=F[1];F=r(function(){return d("WAWebCartCollection").CartCollection.findCart(E.catalogWid.toString())},[E.catalogWid]);d("useWAWebListener").useListener(F,"change:cartItemCollection",B);var Q=function(){if(w)return w();return},R=function(){var a=E.catalogWid;d("WAWebCatalogCollection").CatalogCollection.findCarouselCatalog(a).then(function(a){if(C.aborted)return;a=Array.isArray(a)?a[0]:a;L(a||null);P(a?"SUCCESS":"NONE")})["catch"](d("WAFilteredCatch").filteredCatch(d("WAWebBackendErrors").ServerStatusCodeError,function(a){a.status==="not_found"||a.status===404?(L(null),P("NOT_FOUND")):(L(null),P("ERROR"),d("WALogger").WARN(n()).devConsole(a))}))},S=function(){d("WAWebModalManager").ModalManager.open(o.jsx(d("WAWebConfirmPopup.react").ConfirmPopup,{onOK:function(){d("WAWebModalManager").ModalManager.close()},okText:c("WAWebFbtCommon")("OK"),children:h._(/*BTDS*/"__JHASH__M459z--6h5t__JHASH__")}))},T=function(){var a=E.catalogWid,b=E.id.toString();return d("WAWebCatalogCollection").CatalogCollection.findProduct({catalogWid:a,productId:b,productMsgMediaData:d("WAWebStateUtils").unproxy(E).productMsgMediaData,canLogQpl:!0})},U=function(){var a=E.catalogWid,e=T();a=d("WAWebBusinessProfileCollection").BusinessProfileCollection.find(a);var f=!0;return(i||(i=b("Promise"))).all([a,e]).then(function(a){a=a[0];if(C.aborted)throw new(d("WAAbortError").AbortError)();f=!1;d("WAWebUtilsLogQplEvents").qplEndProductView(d("WAQplTypes").QuickLogActionType.SUCCESS);H(a);N("SUCCESS");return a}).then(function(a){P(function(b){if(b==="PENDING"){if(!d("WAWebBusinessProfileUtils").hasCatalog(a))return"NONE";R()}return b})})["catch"](d("WAAbortError").catchAbort(c("WAWebNoop")))["catch"](d("WAFilteredCatch").filteredCatch(d("WAWebBackendErrors").E404,function(){Q(),S(),N("NOT_FOUND"),f=!1,d("WAWebUtilsLogQplEvents").qplDropProductView()}))["catch"](d("WAFilteredCatch").filteredCatch(d("WAWebBackendErrors").ServerStatusCodeError,function(a){N("ERROR"),d("WALogger").WARN(m()).devConsole(a)}))["finally"](function(){f&&d("WAWebUtilsLogQplEvents").qplEndProductView(d("WAQplTypes").QuickLogActionType.FAIL)})};q(function(){d("WAWebBizGatingUtils").commerceThreadsLoggingEnabled()&&A&&d("WAWebChatThreadLogging").handleActivitiesForChatThreadLogging([{activityType:"pdpViews",ts:d("WATimeUtils").unixTime(),chatId:A.id}]);if(z===!0){var a=d("WAWebCatalogCollection").CatalogCollection.get(E.catalogWid);(a==null?void 0:a.productCollection)&&a.fetchedFromServer?P("SUCCESS"):P("PENDING")}a=d("WAWebUserPrefsMeUser").getMaybeMeUser();d("WAWebUtilsLogQplEvents").qplAnnotateProductView(!(a==null?void 0:a.equals(E.catalogWid)));a=E.catalogWid;var b=E.id.toString();if(!a||!b){d("WAWebUtilsLogQplEvents").qplDropProductView();return}U();c("WAWebProductCatalogCheckCartEnabled")(a).then(function(a){J(a),d("WAWebProductCatalogLogEvents").logProductDetailView({product:d("WAWebStateUtils").unproxy(E),catalogContext:d("WAWebProductCatalogContext").getProductCatalogContext(D),cartToggle:a,collectionId:f})});return function(){var a=E.catalogWid,b=E.id.toString();if(!a||!b)return;a=d("WAWebCatalogCollection").CatalogCollection.get(a);b=a&&a.msgProductCollection.get(b);(b==null?void 0:b.fetchedFromServer)&&(a&&a.msgProductCollection.remove(b))}},[]);B=function(){d("WAWebUtilsLogQplEvents").qplStartCartView("Product"),g==null?void 0:g(E.catalogWid.toString())};var V=function(){d("WAWebModalManager").ModalManager.open(o.jsx(c("WAWebProductCatalogReportProductFlow"),{product:E,sessionId:d("WAWebProductCatalogContext").getProductCatalogSessionId(D)}))},W=function(){d("WAWebProductCatalogLogEvents").logProductShareLinkClick({product:E,catalogContext:d("WAWebProductCatalogContext").getProductCatalogContext(D)}),j(E)},X=function(a,b){b===void 0&&(b=!0),d("WAWebBizGatingUtils").commerceThreadsLoggingEnabled()&&A&&d("WAWebChatThreadLogging").handleActivitiesForChatThreadLogging([{activityType:a,ts:d("WATimeUtils").unixTime(),chatId:A.id,boolValue:b}])},aa=function(){var a=d("WAWebCatalogCollection").CatalogCollection.get(E.catalogWid);d("WAWebBizProductCatalogAction").sendProductToChat(E,a,d("WAWebProductCatalogContext").getProductCatalogContext(D));X("isCtaOnPdpClicked");d("WAWebProductCatalogLogEvents").logProductMessageBusinessClick(E,d("WAWebProductCatalogContext").getProductCatalogContext(D))},ba=function(){X("isCartAddClicked")},ca=function(){var a=E,b=a.catalogWid;b=d("WAWebCatalogCollection").CatalogCollection.get(b);if(!b)return;b=b.productCollection.get(a.id);d("WAWebCmd").Cmd.attachProduct({product:b?d("WAWebStateUtils").unproxy(b):d("WAWebStateUtils").unproxy(a)})},da=function(){l(E)},ea=function(){x&&x(E.catalogWid,d("WAWebProductCatalogContext").getProductCatalogContext(D))},fa=function(a){d("WAWebUtilsLogQplEvents").qplStartProductView("Product");if(y)return y(a);return},ga=function(){var a=E.reviewStatus;return a===d("WAWebProductCollection").PRODUCT_REVIEW_STATUS.REJECTED},Y=function(){return M!=="ERROR"&&M!=="NOT_FOUND"&&!ga()},Z=Y();G=d("WAWebBusinessProfileUtils").hasCatalog(G);var ha=function(){T().then(function(){var a=d("WAWebCatalogCollection").CatalogCollection.get(E.catalogWid);a&&(a.stale=!0)})},ia=function(){return!d("WAWebProductTypes.flow").PRODUCT_AVAILABILITY_UNAVAILABLE_VALUES.includes(E.availability)?null:o.jsxs("div",{className:(k||(k=c("stylex")))([t.availabilityBanner,d("WAWebUISpacing").uiPadding.vert18,d("WAWebUISpacing").uiPadding.horiz30,d("WAWebUISpacing").uiMargin.bottom0]),children:[E.availability===d("WAWebProductTypes.flow").ProductAvailability.OUT_OF_STOCK?h._(/*BTDS*/"__JHASH__NrgeXWATOga__JHASH__"):null,E.availability===d("WAWebProductTypes.flow").ProductAvailability.AVAILABLE_FOR_ANOTHER_POSTCODE&&d("WAWebDirectConnectionGatingUtils").enablePostcodeInCatalog()?o.jsx(d("WAWebProductCatalogProductPostcodeChangeBanner").ProductPostcodeChangeBanner,{catalogWid:E.catalogWid,postcodeChangeSuccess:ha}):null]})},$;Y()&&($=d("WAWebProductCatalogDetailDrawerMenu.react").getDetailDrawerMenu({onSendProduct:ca,onReportProduct:V,onProductLinkClick:W,onProductMoreInformation:da,onCartClick:I?B:void 0,cartCount:F.itemCount,catalogId:E.catalogWid.toString(),contactId:A==null?void 0:A.contact.id}));return o.jsxs(c("WAWebDrawer.react"),{ref:e,onDrop:Q,theme:"striped",children:[o.jsx(v,{handleBack:Q,menu:$}),o.jsx(c("WAWebDrawerBody.react"),{children:o.jsxs("div",{"data-testid":void 0,className:(k||(k=c("stylex")))([t.body,d("WAWebUISpacing").uiPadding.bottom32]),children:[o.jsx(u,{productFetchState:M,productCatalogFetchState:O,isAvailable:Z}),o.jsx(c("WAWebProductCatalogProductTile.react"),{product:E,isAvailable:Z,fetching:M==="PENDING"}),ia(),o.jsx(c("WAWebProductCatalogProductDetailsInfo.react"),{product:E,collectionId:f,onSendChat:aa,onAddToCart:ba,isAvailable:Z,hideRetailerID:(Y=a.chat)==null?void 0:Y.contact.isEnterprise}),G&&K?o.jsx(c("WAWebProductCatalogCatalogDrawerSection.react"),{catalog:K,onProductCatalog:ea,onProductDetail:fa,filterProductId:E.id.toString(),title:h._(/*BTDS*/"__JHASH__3ubPHZFkJFl__JHASH__"),animation:!1}):null]})})]},"product-details-drawer")}a.displayName=a.name+" [from "+f.id+"]";a=e;g["default"]=a}),226);
__d("WAWebProductCatalogProductListDrawer.react",["fbt","WAFilteredCatch","WATypeUtils","WAWebBackendErrors","WAWebCartCollection","WAWebCatalogCollection","WAWebCommonCartIconMenuBarItem.react","WAWebContactGetters","WAWebDrawer.react","WAWebDrawerBody.react","WAWebDrawerContext","WAWebDrawerHeader.react","WAWebDropdown.react","WAWebDropdownItem.react","WAWebFlatListController","WAWebFlatListLoadingSpinnerItem.react","WAWebFrontendConstants","WAWebManageAddItemCta.react","WAWebMenuBar.react","WAWebMenuIcon.react","WAWebMoreRefreshedIcon.react","WAWebProductCatalogCatalogConstants","WAWebProductCatalogCheckCartEnabled","WAWebProductCatalogContext","WAWebProductCatalogFetchState","WAWebProductCatalogFetchStateTopBar.react","WAWebProductCatalogLinkIcon.react","WAWebProductCatalogList.react","WAWebProductCatalogLogEvents","WAWebProductCatalogProductListDrawerHeader.react","WAWebUIRefreshGatingUtils","WAWebUISpacing","react","stylex","useWAWebContactValues","useWAWebDebouncedCallback","useWAWebForceUpdate","useWAWebListener","useWAWebThrottledCallback","useWAWebUnmountSignal"],(function(a,b,c,d,e,f,g,h){var i,j,k;b=k||d("react");var l=i||(i=c("react")),m=b.useContext,n=b.useEffect,o=b.useMemo,p=b.useState,q={list:{flex:"x1okw0bk",overflowX:"x6ikm8r",overflowY:"x10wlt62",$$css:!0}};function r(a){var b=a.businessProfile,e=a.canManageCatalog,f=a.contact,g=a.loadingMore,h=a.onAddProduct;a=a.productCatalogList;var i;e&&h&&(i=l.jsx(c("WAWebManageAddItemCta.react"),{onClick:function(){return h()},theme:"in-list",testid:void 0}));return l.jsxs(l.Fragment,{children:[b&&l.jsx("div",{"data-testid":void 0,className:"x1okw0bk",children:l.jsx(c("WAWebProductCatalogProductListDrawerHeader.react"),{profilePicThumb:f.getProfilePicThumb(),contact:f,businessProfile:b})}),l.jsxs("div",{"data-testid":void 0,className:(j||(j=c("stylex")))(q.list,d("WAWebUISpacing").uiPadding.bottom8,b&&d("WAWebUISpacing").uiMargin.top8),children:[i,a,g&&l.jsx(c("WAWebFlatListLoadingSpinnerItem.react"),{})]})]})}r.displayName=r.name+" [from "+f.id+"]";function s(a){var b=a.canManageCatalog,e=a.onOpenSettings,f=a.onCartClick,g=a.catalogId,i=a.handleCatalogLinkClick,j=a.handleCartClick,k=a.cartEnabled;a=a.cartCount;b=b?l.jsx(d("WAWebMenuBar.react").MenuBarItem,{testid:void 0,icon:d("WAWebUIRefreshGatingUtils").uiRefreshM1Enabled()?l.jsx(d("WAWebMoreRefreshedIcon.react").MoreRefreshedIcon,{}):l.jsx(d("WAWebMenuIcon.react").MenuIcon,{}),title:h._(/*BTDS*/"__JHASH__hskmX_lsgx4__JHASH__"),dropdownMenu:{menu:l.jsxs(l.Fragment,{children:[l.jsx(d("WAWebDropdownItem.react").DropdownItem,{testid:void 0,action:i,children:h._(/*BTDS*/"__JHASH__yncEhAlcaY6__JHASH__")}),e&&l.jsx(d("WAWebDropdownItem.react").DropdownItem,{testid:void 0,action:e,children:h._(/*BTDS*/"__JHASH__vCoxAeO-9BV__JHASH__")})]}),type:d("WAWebDropdown.react").MenuType.DropdownMenu,flipOnRTL:!0,dirX:d("WAWebDropdown.react").DirX.LEFT}}):l.jsx(d("WAWebMenuBar.react").MenuBarItem,{testid:void 0,icon:l.jsx(c("WAWebProductCatalogLinkIcon.react"),{theme:null}),title:h._(/*BTDS*/"__JHASH__TjtqRRKaMPt__JHASH__"),onClick:i});e=k&&f?l.jsx(d("WAWebCommonCartIconMenuBarItem.react").CartIconMenuBarItem,{cartIconTheme:null,cartCountText:d("WATypeUtils").isNumber(a)&&a>0?a.toString():void 0,onClick:j,catalogOwnerJid:g.toString()}):null;return[e,b]}e=l.forwardRef(a);function a(a,b){var e=babelHelpers["extends"]({},a),f=e.contact,g=e.catalogId;a=e.canManageCatalog;var i=e.setScrollOffset,j=e.onCartClick,k=e.onCatalogLinkClick,q=e.autoUpdate;q=q===void 0?!1:q;var t=e.businessProfile,u=e.onAddProduct,v=e.onProductDetail,w=e.onProductShare,x=e.onOpenSettings,y=c("useWAWebUnmountSignal")(),z=m(d("WAWebDrawerContext").DrawerContext),A=d("useWAWebForceUpdate").useForceUpdateDONOTUSE(),B=c("useWAWebDebouncedCallback")(A,100),C=d("useWAWebContactValues").useContactValues(f.id,[d("WAWebContactGetters").getId]),D=C[0];C=o(function(){return new(c("WAWebFlatListController"))()},[]);var E=function(){var a=d("WAWebCatalogCollection").CatalogCollection.get(g);return!a||a.stale?null:a},F=o(function(){return d("WAWebCartCollection").CartCollection.findCart(D.toString())},[D]),G=p(!1),H=G[0],I=G[1];G=p(0);var J=G[0],K=G[1];G=p(!1);var L=G[0],M=G[1];G=p(!1);var N=G[0],O=G[1];G=p(E);var P=G[0],Q=G[1];G=p(function(){return F.itemCount});var R=G[0],S=G[1];G=p(function(){return E()?"SUCCESS":"NONE"});var T=G[0],U=G[1];G=function(){var a=F.itemCount;R!==a&&S(a)};d("useWAWebListener").useListener(F,"all",G);var V=function a(){if(L)return;var b=d("WAWebCatalogCollection").CatalogCollection.assertGet(g);if(!b.afterCursor)return;var c=b.productCollection.getProductModels().length;I(!0);K(c);d("WAWebCatalogCollection").CatalogCollection.update(g).then(function(b){if(y.aborted)return;I(!1);b=Array.isArray(b)?b[0]:b;b=b.productCollection.getProductModels().length;b===J&&M(!0);c*d("WAWebProductCatalogCatalogConstants").PRODUCT_LIST_ITEM_HEIGHT<window.innerHeight&&a()})["catch"](function(){I(!1),M(!0)})};G=c("useWAWebDebouncedCallback")(function(){e.onRemoveProduct==null?void 0:e.onRemoveProduct(),A()},100);q=q?P==null?void 0:P.productCollection:null;d("useWAWebListener").useListener(q,"add",B);d("useWAWebListener").useListener(q,"remove",G);var W=function(){return d("WAWebCatalogCollection").CatalogCollection.find(g).then(function(a){Q(a),U("SUCCESS"),V()})["catch"](d("WAFilteredCatch").filteredCatch(d("WAWebBackendErrors").ServerStatusCodeError,function(a){(a.status===403||a.status===404)&&(Q(null),U("NOT_FOUND"))}))["catch"](function(a){d("WAWebProductCatalogFetchState").parseErrorState(a,function(a){return U(a)})})};n(function(){P?V():W(),c("WAWebProductCatalogCheckCartEnabled")(g).then(function(a){O(a),d("WAWebProductCatalogLogEvents").logCatalogListView({catalogOwnerWid:g,catalogContext:d("WAWebProductCatalogContext").getProductCatalogContext(z),cartToggle:a})})},[]);var X=c("useWAWebThrottledCallback")(function(a){if(H)return;a.scrollTop+d("WAWebFrontendConstants").SCROLL_FUDGE>a.scrollHeight-a.clientHeight&&V()},100);B=function(a){a.currentTarget&&X(a.currentTarget);i==null?void 0:i((a=(a=a.currentTarget)==null?void 0:a.scrollTop)!=null?a:0)};q=function(){j==null?void 0:j(D.toString())};G=function(){P&&(k(P,f),d("WAWebProductCatalogLogEvents").logCatalogShareLinkClick({catalogOwnerWid:g,catalogContext:d("WAWebProductCatalogContext").getProductCatalogContext(z)}))};var Y=N&&j?q:void 0;u=P?l.jsx(r,{canManageCatalog:a,onAddProduct:u,businessProfile:t,contact:f,loadingMore:H,productCatalogList:l.jsx(c("WAWebProductCatalogList.react"),{onCartOpen:Y,onProductDetail:v,flatListController:C,catalog:P,canManageCatalog:a,shareLinks:a,onProductShare:w})}):l.jsx(c("WAWebProductCatalogFetchStateTopBar.react"),{fetchState:T});t=s({canManageCatalog:a,handleCatalogLinkClick:G,onOpenSettings:x,cartEnabled:N,onCartClick:j,cartCount:R,handleCartClick:q,catalogId:g});return l.jsxs(c("WAWebDrawer.react"),{ref:b,theme:"products",onDrop:e.onBack,children:[l.jsx(d("WAWebDrawerHeader.react").DrawerHeader,{title:h._(/*BTDS*/"__JHASH__UNA9opkICZW__JHASH__"),type:d("WAWebDrawerHeader.react").DRAWER_HEADER_TYPE.SMALL,onBack:e.onBack,menu:t,focusBackOrCancel:!0}),l.jsx(c("WAWebDrawerBody.react"),{onScroll:B,flatListControllers:[C],scrollOffset:e.scrollOffset,children:u})]})}a.displayName=a.name+" [from "+f.id+"]";g.ProductListDrawer=e}),226);
__d("WAWebProductCatalogProductMoreInformationDrawer.react",["fbt","Promise","WALogger","WANullthrows","WAWebCatalogCollection","WAWebComplianceConstants","WAWebComplianceInfo.react","WAWebCountriesUtils","WAWebDrawer.react","WAWebDrawerBody.react","WAWebDrawerHeader.react","WAWebStateUtils","WAWebSyntheticCountryCode","WAWebUISpacing","asyncToGeneratorRuntime","react","stylex","useWAWebModelValues","useWAWebRenderCallbacks"],(function(a,b,c,d,e,f,g,h){var i,j,k,l;function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["Unable to fetch compliance for product: ",""]);m=function(){return a};return a}var n=l||c("react"),o=(k||(k=d("react"))).useState;e=n.forwardRef(a);function a(a,e){a=babelHelpers["extends"]({},a);var f=a.onBack,g=d("useWAWebModelValues").useModelValues(a.product,["id","catalogWid"]);a=o({});var k=a[0],l=a[1];a=o("");var p=a[0],q=a[1];a=o("");var r=a[0],s=a[1];a=o(!0);var t=a[0],u=a[1],v=function(a){var e;return((e=a.complianceInfo)==null?void 0:e.countryCodeOrigin)===String(d("WAWebSyntheticCountryCode").SyntheticCountryCode.NotApplicable)?(i||(i=b("Promise"))).resolve(n.jsxs("div",{children:[n.jsx("div",{className:(j||(j=c("stylex")))(d("WAWebUISpacing").uiMargin.bottom6),children:h._(/*BTDS*/"__JHASH__qCG342enwUu__JHASH__")}),n.jsx("div",{children:h._(/*BTDS*/"__JHASH__kLPdnde05rO__JHASH__")})]})):d("WAWebCountriesUtils").getCountryName((e=a.complianceInfo)==null?void 0:e.countryCodeOrigin,d("WAWebCountriesUtils").COUNTRY_FILTER_TYPE.META_RECOGNIZED)};c("useWAWebRenderCallbacks")({onMount:function(){function a(){return e.apply(this,arguments)}function e(){e=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){yield d("WAWebCatalogCollection").CatalogCollection.findProduct({catalogWid:g.catalogWid,productId:g.id.toString(),productMsgMediaData:d("WAWebStateUtils").unproxy(g).productMsgMediaData,shouldFetchComplianceFields:!0});var a=d("WAWebCatalogCollection").CatalogCollection.get(g.catalogWid);a=c("WANullthrows")(a).productCollection.get(g.id);if(a){var b,e,f=(yield v(a));b=(yield d("WAWebCountriesUtils").getCountryName((b=a.complianceInfo)==null?void 0:(b=b.importerAddress)==null?void 0:b.countryCode,d("WAWebCountriesUtils").COUNTRY_FILTER_TYPE.META_RECOGNIZED));e={importerName:((e=a.complianceInfo)==null?void 0:e.importerName)||"",countryCodeOrigin:((e=a.complianceInfo)==null?void 0:e.countryCodeOrigin)||"",importerAddress:{street1:((e=a.complianceInfo)==null?void 0:(e=e.importerAddress)==null?void 0:e.street1)||"",street2:((e=a.complianceInfo)==null?void 0:(e=e.importerAddress)==null?void 0:e.street2)||"",city:((e=a.complianceInfo)==null?void 0:(e=e.importerAddress)==null?void 0:e.city)||"",region:((e=a.complianceInfo)==null?void 0:(e=e.importerAddress)==null?void 0:e.region)||"",postalCode:((e=a.complianceInfo)==null?void 0:(a=e.importerAddress)==null?void 0:a.postalCode)||""}};l(e);u(!1);q(f);s(b)}else d("WALogger").WARN(m(),g.id)});return e.apply(this,arguments)}void a()}});a=function(){if(f)return f()};var w=k.countryCodeOrigin,x=k.importerName;k=k.importerAddress;return n.jsxs(c("WAWebDrawer.react"),{ref:e,onDrop:a,theme:"striped",children:[n.jsx(d("WAWebDrawerHeader.react").DrawerHeader,{testid:void 0,title:h._(/*BTDS*/"__JHASH__7krv-luSRnY__JHASH__"),onBack:a,type:d("WAWebDrawerHeader.react").DRAWER_HEADER_TYPE.SMALL}),n.jsx(c("WAWebDrawerBody.react"),{theme:t?"center-content":void 0,children:t?n.jsx(d("WAWebComplianceInfo.react").ComplianceInfoLoading,{}):n.jsxs(d("WAWebComplianceInfo.react").ComplianceInfoGroup,{children:[n.jsx(d("WAWebComplianceInfo.react").ComplianceInfoPrimitiveField,{value:p,label:h._(/*BTDS*/"__JHASH__zMMMJgKRj0h__JHASH__")}),w&&![d("WAWebComplianceConstants").COMPLIANCE_INFO_CODES.INDIA,d("WAWebSyntheticCountryCode").SyntheticCountryCode.NotApplicable].includes(w)?n.jsxs(n.Fragment,{children:[n.jsx(d("WAWebComplianceInfo.react").ComplianceInfoPrimitiveField,{value:x,label:h._(/*BTDS*/"__JHASH__5k27p0yLSug__JHASH__")}),n.jsx(d("WAWebComplianceInfo.react").ComplianceInfoStructuralField,{valuesMap:babelHelpers["extends"]({importerAddressCountryNameOrigin:r},k),keys:["street1","street2","city","region","postalCode","importerAddressCountryNameOrigin"],label:h._(/*BTDS*/"__JHASH__ditL7HXuah6__JHASH__")})]}):null]})})]},"product-details-drawer")}a.displayName=a.name+" [from "+f.id+"]";a=e;g["default"]=a}),226);
__d("WAWebPttAudioTag.react",["WANullthrows","WAWebAddOnBubbleType","WAWebAddOnBubblesContainer.react","WAWebDomVideoDisposeMediaPlayer","WAWebGetDisplayType","WAWebMsgGetters","WAWebPttAudioChannels","WAWebSocketConstants","WAWebSocketModel","WAWebUA","WAWebUserPrefsGeneral","lodash","react","useWAWebInterval","useWAWebListener","useWAWebMsgValues"],(function(a,b,c,d,e,f,g){var h,i;b=i||d("react");var j=h||(h=c("react")),k=b.useEffect,l=b.useRef,m=c("lodash").debounce(function(a,b){d("WAWebUserPrefsGeneral").setMediaVolumeSettings(a,b)},500);function a(a){var b=a.autoPlay,e=a.url,f=a.onError,g=a.refAudio,h=a.playbackRate,i=l(0),n=l(null),o=l(null),p=d("useWAWebMsgValues").useMsgValues(a.msg.id,[d("WAWebMsgGetters").getIsSentByMe]);p=p[0];var q=function(){var a=n.current;o.current==null?void 0:o.current();o.current=a==null?null:d("WAWebPttAudioChannels").MainAudioChannel.registerMedia(a)},r=function(a){w(),f==null?void 0:f(a.target.src)},s=function(){w()},t=function(){if(d("WAWebSocketModel").Socket.state!==d("WAWebSocketConstants").SOCKET_STATE.CONNECTED)return;i.current++;if(i.current>40){r({target:{src:e,error:{code:window.MediaError.MEDIA_ERR_NETWORK}}});return}var a=c("WANullthrows")(n.current);a=a.buffered;a.length&&a.end(0)>0&&s()};t=c("useWAWebInterval")(t,250);var u=t[0],v=t[1];function w(){v(),i.current=0}var x=function(){i.current=0,u()},y=function(){var a=n.current;if(a&&(a.defaultPlaybackRate!==h||a.playbackRate!==h)){a.defaultPlaybackRate=a.playbackRate=(a=h)!=null?a:1}};k(function(){q(),y(),g==null?void 0:g(n)});d("useWAWebListener").useListener(n.current,"error",r,{capture:!0});d("useWAWebListener").useListener(n.current,"playing",s);k(function(){var a=function(){var a=n.current;if(a){var b=d("WAWebUserPrefsGeneral").getMediaVolumeSettings(),c=b.volume;b=b.muted;c!=null&&(a.volume=c);a.muted=b}};a();q();g==null?void 0:g(n);var e=n.current;(d("WAWebUA").UA.isGecko||d("WAWebUA").UA.isSafari)&&(b?x():b&&x());return function(){o.current==null?void 0:o.current(),m.flush(),d("WAWebUA").UA.isBlink&&e&&c("WAWebDomVideoDisposeMediaPlayer")(e)}},[]);t=function(){var a=n.current;a&&m(a.volume,a.muted)};d("useWAWebListener").useListener((d("WAWebUA").UA.isGecko||d("WAWebUA").UA.isSafari)&&!b?n.current:null,"play",x);var z=d("WAWebGetDisplayType").getDisplayType(a.msg);return j.jsxs("div",{className:a.className,"data-testid":void 0,children:[j.jsx("audio",babelHelpers["extends"]({ref:n},{className:"xh8yej3"},{src:a.url,onClick:a.onClick,controls:a.controls,preload:a.preload,onVolumeChange:t,autoPlay:a.autoPlay,children:a.children})),j.jsx(c("WAWebAddOnBubblesContainer.react"),{isOutgoingMsg:p,displayType:z,bubbleType:d("WAWebAddOnBubbleType").AddOnBubbleType.MEDIA_VIEWER,parentIds:[a.msg.id.toString()]})]})}a.displayName=a.name+" [from "+f.id+"]";g.AudioTag=a}),98);
__d("WAWebSendLinkButton.react",["fbt","WAWebChatRefreshedIcon.react","WAWebDrawerButton.react","WAWebForwardIcon.react","WAWebUIRefreshGatingUtils","react"],(function(a,b,c,d,e,f,g,h){var i,j=i||c("react"),k={icon:{color:"xw63xux",$$css:!0}};function a(a){var b=a.divider;a=a.onClick;var c=d("WAWebUIRefreshGatingUtils").uiRefreshM1Enabled()?d("WAWebChatRefreshedIcon.react").ChatRefreshedIcon:d("WAWebForwardIcon.react").ForwardIcon;return j.jsx(d("WAWebDrawerButton.react").DrawerButtonSimple,{testid:void 0,icon:j.jsx(c,{xstyle:k.icon}),onClick:a,divider:b,children:h._(/*BTDS*/"__JHASH__Bc6tNi26J9H__JHASH__")})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebTextMessageModal.react",["WAWebComposeBoxPopupPanel.react","WAWebConstantsDeprecated","WAWebDrawer.react","WAWebDrawerBody.react","WAWebDrawerHeader.react","WAWebEmojiText.react","WAWebKeyboardHotKeys.react","WAWebMediaLinkPreview.react","WAWebModal.react","WAWebRichTextField.react","WAWebRound.react","WAWebSendIcon.react","WAWebUimUie.react","react","useWAWebLinkPreview"],(function(a,b,c,d,e,f,g){var h,i,j=i||c("react"),k=(h||(h=d("react"))).useState;b=j.forwardRef(a);function a(a,b){a=babelHelpers["extends"]({},a);var e=a.defaultText,f=a.title,g=a.onSend;a=a.onBack;e=k(e);var h=e[0],i=e[1];e=d("useWAWebLinkPreview").findFirstWebLink(h);e=d("useWAWebLinkPreview").useLinkPreview(e);var l=e.linkPreview;e=e.clearLinkPreview;var m=function(a){a=a.text;i(a)},n=function(){if(!h.length)return;g(h,l)};f=f?j.jsx(d("WAWebEmojiText.react").EmojiText,{text:f,direction:"auto",titlify:!0,ellipsify:!0}):null;var o=l||{},p=o.title,q=o.matchedText,r=o.description;o=o.thumbnail;e=l?j.jsx(d("WAWebUimUie.react").UIE,{displayName:"ComposeBoxLinkPreview",escapable:!0,requestDismiss:e,children:j.jsx(c("WAWebComposeBoxPopupPanel.react"),{onOmit:e,children:j.jsx(c("WAWebMediaLinkPreview.react"),{title:p,compose:!0,matchedText:q,description:r,thumbnailJpeg:o,isLoading:!1})})}):null;return j.jsx(d("WAWebModal.react").Modal,{ref:b,type:d("WAWebModal.react").ModalTheme.Box,children:j.jsxs(c("WAWebDrawer.react"),{children:[j.jsx(d("WAWebDrawerHeader.react").DrawerHeader,{type:d("WAWebDrawerHeader.react").DRAWER_HEADER_TYPE.POPUP,onBack:a,children:f}),j.jsx(c("WAWebDrawerBody.react"),{children:j.jsxs(d("WAWebKeyboardHotKeys.react").HotKeys,{className:"x78zum5 xdt5ytf x1egiwwb xs9asl8 x6ikm8r x10wlt62 x1bmpntp",children:[j.jsx("div",{className:"x1iyjqo2 x9desvi x11eofan xs9asl8 x12wi22r xw2csxc x1odjw0f x1bmpntp",children:j.jsx(d("WAWebRichTextField.react").RichTextField,{testid:void 0,value:h,maxLength:c("WAWebConstantsDeprecated").MAX_TXT_MSG_SIZE,onChange:m,emojiBtnPosition:"side",multiline:!0,spellCheck:!0,showRemaining:!0,focusOnMount:!0,theme:"small",textFormatEnabled:!0})}),e]})}),j.jsx("div",{className:"x1n2onr6 xa1v5g2 x1x0gksc x11doyns",children:j.jsx("div",{className:"x10l6tqk x1a87ojn x3h4tne",children:j.jsx(d("WAWebRound.react").Round,{large:!0,onClick:n,children:j.jsx(d("WAWebSendIcon.react").SendIcon,{directional:!0})})})})]})})}a.displayName=a.name+" [from "+f.id+"]";e=b;g["default"]=e}),98);
__d("WAWebSendTextFlow.react",["fbt","$InternalEnum","WATimeUtils","WAWebBlockContactAction","WAWebChatGetters","WAWebCmd","WAWebComposeBoxActions","WAWebDrawerManager","WAWebFrontendConstants","WAWebSelectModal.react","WAWebSelectModalFooter.react","WAWebSendTextMsgChatAction","WAWebServerPropConstants","WAWebTextMessageModal.react","WAWebWid","asyncToGeneratorRuntime","react","useWAWebFlow"],(function(a,b,c,d,e,f,g,h){var i,j,k=j||c("react"),l=(i||(i=d("react"))).useRef,m=b("$InternalEnum").Mirrored(["Select","TextMessage"]);function a(a){var e=a.onSend,f=a.origin,g=a.text;a=a.title;var i=d("useWAWebFlow").useFlow(m.Select),j=i[0],n=i[1],o=l([]),p=l([]),q=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){d("WAWebChatGetters").getIsUser(a)&&a.contact.isContactBlocked&&(yield d("WAWebBlockContactAction").unblockContact(a.contact))});return function(b){return a.apply(this,arguments)}}();if(n.step==null)return null;var r;switch(n.step){case m.Select:var s,t=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b,a){yield q(b),b.active?d("WAWebComposeBoxActions").ComposeBoxActions.paste(b,a):(b.setComposeContents({text:a,timestamp:d("WATimeUtils").unixTime()}),d("WAWebCmd").Cmd.openChatFromUnread(b).then(function(a){a&&d("WAWebComposeBoxActions").ComposeBoxActions.focus(b)}))});return function(b,c){return a.apply(this,arguments)}}();i=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){p.current=a;if(a.length===1){a=a[0];yield t(a,g);n.end();window.innerWidth<=d("WAWebFrontendConstants").LAYOUT_2COLUMNS_MAX_WIDTH&&d("WAWebDrawerManager").DrawerManager.closeDrawerRight()}else n.push(m.TextMessage);e&&e()});return function(b){return a.apply(this,arguments)}}();var u=function(){return o.current},v=function(a,b,c){o.current=c};r=k.jsx(d("WAWebSelectModal.react").SelectModal,{title:(s=a)!=null?s:h._(/*BTDS*/"__JHASH__Pz11_y6jv6u__JHASH__"),tsNavigationData:c("WAWebWid").isNewsletter(f)?{surface:"channel-forward",extras:{channelWid:f}}:void 0,listType:d("WAWebSelectModal.react").ListType.ChatSelectModal,getInitialItems:u,maxItems:d("WAWebServerPropConstants").MULTICAST_LIMIT_GLOBAL,onConfirm:i,onCancel:function(){return n.end()},onSelectionChanged:v,singleSelectionFooterType:d("WAWebSelectModalFooter.react").FooterType.NEXT,multipleSelectionFooterType:d("WAWebSelectModalFooter.react").FooterType.NEXT});break;case m.TextMessage:var w=function(c,a,e){c.forEach(function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){yield q(b),d("WAWebCmd").Cmd.once("ui_idle",function(){d("WAWebSendTextMsgChatAction").sendTextMsgToChat(b,a,{linkPreview:e})})});return function(a){return c.apply(this,arguments)}}()),n.end()};r=k.jsx(c("WAWebTextMessageModal.react"),{defaultText:g,title:(s=a)!=null?s:h._(/*BTDS*/"__JHASH__Pz11_y6jv6u__JHASH__"),onSend:function(a,b){return w(p.current,a,b)},onBack:function(){return n.pop()}});break}return k.jsx(j,{flow:n,children:r})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebTextWithLearnMoreLink",["fbt","WAWebClickableLink.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||c("react");function a(a){var b=a.handleClick;a=a.text;return j.jsxs(j.Fragment,{children:[a,b!=null&&j.jsxs(j.Fragment,{children:["\xa0",j.jsx(c("WAWebClickableLink.react"),{onClick:b,children:h._(/*BTDS*/"__JHASH__RR1bpeluTQm__JHASH__")})]})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebWamGroupMetadataMetricUtils_WORKER_INCOMPATIBLE",["WAWebGroupMetadataCollection","WAWebWamGroupMetricUtils"],(function(a,b,c,d,e,f,g){function h(a){return a.isGroup()?c("WAWebGroupMetadataCollection").get(a):null}function a(a){if(a!=null&&a.isGroup()){a=h(a);if(a!=null)return d("WAWebWamGroupMetricUtils").getGroupCountMetricsFromGroupMetadata(a)}}g.getGroupCountMetricsFromChatWid=a}),98);
__d("intersectionObserverEntryIsIntersecting",[],(function(a,b,c,d,e,f){"use strict";function a(a){return a.isIntersecting!=null?a.isIntersecting:a.intersectionRatio>0||a.intersectionRect&&(a.intersectionRect.height>0||a.intersectionRect.width>0)}f["default"]=a}),66);
__d("observeIntersection",["invariant","ErrorGuard"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=typeof WeakMap==="function",k={__noRoot:!0},l=j?new WeakMap():new Map();function m(a){var b=a.threshold;if(Array.isArray(b)){var c={};b.forEach(function(a){c[String(a)]=!0});b=Object.keys(c).sort()}var d=babelHelpers["extends"]({},a,{threshold:b}),e={};Object.keys(d).sort().forEach(function(a){e[a]=d[a]});return JSON.stringify(e)}function a(a,b,d){d===void 0&&(d={});var e=m({rootMargin:d.rootMargin,scrollMargin:d.scrollMargin,threshold:d.threshold}),f=d.root||k,g=l.get(f);g==null&&(g={},l.set(f,g));var n=g[e];if(n==null){var o=void 0;Array.isArray(d.threshold)?o=d.threshold.slice():typeof d.threshold==="number"&&(o=[d.threshold]);d=new IntersectionObserver(function(a){a.forEach(function(a){n!=null||h(0,2439);var b=n.targetToCallbacksMap.get(a.target);b&&b.length>0&&b.forEach(function(b){(i||(i=c("ErrorGuard"))).applyWithGuard(b,null,[a],{name:"observeIntersection"})})})},babelHelpers["extends"]({},d,{threshold:o}));n={intersectionObserver:d,referenceCount:0,targetToCallbacksMap:j?new WeakMap():new Map()};g[e]=n}o=n.targetToCallbacksMap.get(a);o==null&&(n.intersectionObserver.observe(a),n.referenceCount+=1,o=[],n.targetToCallbacksMap.set(a,o));o.push(b);var p=!1,q=function(){if(p)return;var c=n.targetToCallbacksMap.get(a);c!=null||h(0,2440);if(c.length===1)n.intersectionObserver.unobserve(a),n.targetToCallbacksMap["delete"](a),n.referenceCount-=1,a=null;else{var d=c.indexOf(b);d!==-1||h(0,2441);c.splice(d,1)}n.referenceCount===0&&(g!=null||h(0,2442),delete g[e],f&&Object.keys(g).length===0&&l["delete"](f));b=null;a=null;f=null;p=!0};return{remove:function(){q&&(q(),q=null)}}}f.exports=a}),34);
__d("useDynamicCallbackDANGEROUS",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useCallback,j=b.useLayoutEffect,k=b.useRef;function a(a){var b=k(a);j(function(){b.current=a},[a]);return i(function(){return b.current.apply(b,arguments)},[])}g["default"]=a}),98);
__d("useIntersectionObserver",["DOMRectReadOnly","ExecutionEnvironment","JSScheduler","observeIntersection","react","useDynamicCallbackDANGEROUS"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;i||(i=d("react"));e=i;var k=e.useCallback,l=e.useLayoutEffect,m=e.useRef,n={bottom:0,left:0,right:0,top:0},o=c("DOMRectReadOnly").fromRect(),p={bottom:0,height:0,left:0,right:0,top:0,width:0,x:0,y:0};function q(a){var b;if(a==null)b=n;else if(typeof a==="string")return a;else typeof a==="number"?b={bottom:a,left:a,right:a,top:a}:b=babelHelpers["extends"]({},n,a);a=b;b=a.bottom;var c=a.left,d=a.right;a=a.top;return a+"px "+d+"px "+b+"px "+c+"px"}function r(a,b,d,e){var f=b.root,g=b.rootMargin,h=b.scrollMargin,i=b.threshold;f=f===null?null:f();var j=a==null||a.element!==d||a.onIntersect!==e||a.observedRoot!==f||a.rootMargin!==g||a.scrollMargin!==h||a.threshold!==i;if(j){a&&a.subscription.remove();j=c("observeIntersection")(d,e,{root:f,rootMargin:q(g),scrollMargin:q(h),threshold:i});return babelHelpers["extends"]({},b,{element:d,observedRoot:f,onIntersect:e,subscription:j})}return a}function a(a,b){var e=b.root,f=b.rootMargin,g=b.scrollMargin,h=b.threshold,i=m(null),n=m(null),q=m(null),s=m(null),t=m(!1),u=c("useDynamicCallbackDANGEROUS")(a);b=k(function(a){if(i.current===a)return;if(i.current!=null&&a==null){s.current!=null&&(j||(j=d("JSScheduler"))).cancelCallback(s.current);var b=i.current;s.current=(j||(j=d("JSScheduler"))).scheduleImmediatePriCallback(function(){i.current===null&&t.current===!1&&u({boundingClientRect:p,intersectionRatio:0,intersectionRect:p,isIntersecting:!1,isVisible:!1,rootBounds:o,target:b,time:Date.now()}),s.current=null})}i.current=a;n.current!=null&&(n.current.subscription.remove(),n.current=null);q.current!=null&&(j||(j=d("JSScheduler"))).cancelCallback(q.current);q.current=(j||(j=d("JSScheduler"))).scheduleImmediatePriCallback(function(){i.current!=null&&(n.current=r(n.current,{root:e,rootMargin:f,scrollMargin:g,threshold:h},i.current,u)),q.current=null})},[u,e,f,g,h]);l(function(){q.current!=null&&(j||(j=d("JSScheduler"))).cancelCallback(q.current);q.current=(j||(j=d("JSScheduler"))).scheduleImmediatePriCallback(function(){i.current!=null&&(n.current=r(n.current,{root:e,rootMargin:f,scrollMargin:g,threshold:h},i.current,u)),q.current=null});return function(){n.current!=null&&(n.current.subscription.remove(),n.current=null),q.current!=null&&((j||(j=d("JSScheduler"))).cancelCallback(q.current),q.current=null)}},[u,e,f,g,h]);l(function(){t.current=!1;return function(){t.current=!0}},[]);return b}function b(a,b,c){return function(a){}}f=(h||(h=c("ExecutionEnvironment"))).canUseDOM?a:b;g["default"]=f}),98);